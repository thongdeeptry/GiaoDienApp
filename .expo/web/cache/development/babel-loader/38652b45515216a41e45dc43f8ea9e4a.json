{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { FirebaseRecaptchaVerifierModal, FirebaseRecaptchaBanner } from 'expo-firebase-recaptcha';\nimport { firebaseConfig } from \"../../../../config\";\nimport firebase from 'firebase/compat/app';\nimport { getAuth } from 'firebase/auth';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var RegisterPhone = function RegisterPhone(props) {\n  var navigation = props.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      sdt = _useState2[0],\n      setsdt = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      verificationId = _useState4[0],\n      setVerificationId = _useState4[1];\n\n  var recaptchaVerifier = useRef(null);\n  var _navigation$initialMi = navigation.initialMinute,\n      initialMinute = _navigation$initialMi === void 0 ? 0 : _navigation$initialMi,\n      _navigation$initialSe = navigation.initialSeconds,\n      initialSeconds = _navigation$initialSe === void 0 ? 10000000000 : _navigation$initialSe;\n\n  var _useState5 = useState(initialMinute),\n      _useState6 = _slicedToArray(_useState5, 2),\n      minutes = _useState6[0],\n      setMinutes = _useState6[1];\n\n  var _useState7 = useState(initialSeconds),\n      _useState8 = _slicedToArray(_useState7, 2),\n      seconds = _useState8[0],\n      setSeconds = _useState8[1];\n\n  useEffect(function () {\n    if (verificationId != null) {\n      navigation.navigate('CfPhone', {\n        verificationId: verificationId,\n        sdt: sdt\n      });\n    }\n\n    return function () {};\n  }, [verificationId]);\n\n  var SendOTP = function _callee(sdtt) {\n    var phoneProvider, user;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            try {\n              phoneProvider = new firebase.auth.PhoneAuthProvider();\n              phoneProvider.verifyPhoneNumber(sdtt, recaptchaVerifier.current).then(setVerificationId);\n              user = getAuth().currentUser.uid;\n              console.log('UID - ' + user);\n              navigation.navigate('CfPhone', {\n                sdt: sdt,\n                user: user,\n                verificationId: verificationId\n              });\n            } catch (error) {\n              alert(error);\n            }\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(View, {\n    style: {\n      backgroundColor: 'white',\n      width: '100%',\n      height: '100%'\n    },\n    children: [_jsx(FirebaseRecaptchaVerifierModal, {\n      ref: recaptchaVerifier,\n      firebaseConfig: firebaseConfig\n    }), _jsxs(View, {\n      style: styles.MOBILE,\n      children: [_jsx(Text, {\n        style: styles.MOBILEText,\n        children: \"S\\u1ED1 \\u0110i\\u1EC7n Tho\\u1EA1i\"\n      }), _jsx(Text, {\n        style: styles.chitietsdt,\n        children: \"Vui l\\xF2ng nh\\u1EADp s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i h\\u1EE3p l\\u1EC7 c\\u1EE7a b\\u1EA1n. Ch\\xFAng t\\xF4i s\\u1EBD g\\u1EEDi cho b\\u1EA1n m\\u1ED9t m\\xE3 g\\u1ED3m 4 ch\\u1EEF s\\u1ED1 \\u0111\\u1EC3 x\\xE1c minh t\\xE0i kho\\u1EA3n c\\u1EE7a b\\u1EA1n.\"\n      })]\n    }), _jsxs(View, {\n      style: styles.khunghinh,\n      children: [_jsx(TextInput, {\n        style: styles.khung,\n        placeholder: \"334233235\",\n        maxLength: 10,\n        value: sdt,\n        onChangeText: setsdt\n      }), _jsx(Image, {\n        style: {\n          position: 'relative',\n          right: 110\n        },\n        source: require(\"../../../image/vietnam.png\")\n      }), _jsx(Text, {\n        style: {\n          position: 'relative',\n          right: 105\n        },\n        children: \"(+84)\"\n      })]\n    }), _jsx(View, {\n      style: styles.mailnut,\n      children: _jsx(Pressable, {\n        style: styles.nut,\n        onPress: function onPress() {\n          return SendOTP('+84' + sdt);\n        },\n        children: _jsx(Text, {\n          style: styles.nutText,\n          children: \"Ti\\u1EBFp t\\u1EE5c\"\n        })\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  mailnut: {\n    position: 'absolute',\n    width: '100%',\n    top: 390,\n    height: 56,\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  nut: {\n    width: '80%',\n    height: 56,\n    backgroundColor: '#E94057',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'row',\n    marginTop: 20,\n    borderRadius: 15\n  },\n  nutText: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    textAlign: 'center',\n    fontSize: 19,\n    fontWeight: '700',\n    fontStyle: 'normal',\n    color: 'white'\n  },\n  khunghinh: {\n    position: 'absolute',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'row',\n    width: '100%',\n    height: 58,\n    top: 250\n  },\n  khung: {\n    paddingLeft: 100,\n    position: 'absolute',\n    width: '80%',\n    height: 58,\n    borderBottomColor: '#ABABAB',\n    borderLeftColor: '#ABABAB',\n    borderLeftWidth: 0.5,\n    borderBottomWidth: 0.5,\n    borderRightColor: '#ABABAB',\n    borderTopColor: '#ABABAB',\n    borderRightWidth: 0.5,\n    borderTopWidth: 0.5,\n    borderRadius: 8\n  },\n  chitietsdt: {\n    fontSize: 14,\n    fontWeight: '400',\n    fontStyle: 'normal'\n  },\n  MOBILEText: {\n    fontSize: 34,\n    fontWeight: '700'\n  },\n  MOBILE: {\n    position: 'absolute',\n    width: 295,\n    height: 93,\n    left: 40,\n    top: 128\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useRef","FirebaseRecaptchaVerifierModal","FirebaseRecaptchaBanner","firebaseConfig","firebase","getAuth","RegisterPhone","props","navigation","sdt","setsdt","verificationId","setVerificationId","recaptchaVerifier","initialMinute","initialSeconds","minutes","setMinutes","seconds","setSeconds","navigate","SendOTP","sdtt","phoneProvider","auth","PhoneAuthProvider","verifyPhoneNumber","current","then","user","currentUser","uid","console","log","error","alert","backgroundColor","width","height","styles","MOBILE","MOBILEText","chitietsdt","khunghinh","khung","position","right","require","mailnut","nut","nutText","StyleSheet","create","top","justifyContent","alignItems","flexDirection","marginTop","borderRadius","textAlign","fontSize","fontWeight","fontStyle","color","paddingLeft","borderBottomColor","borderLeftColor","borderLeftWidth","borderBottomWidth","borderRightColor","borderTopColor","borderRightWidth","borderTopWidth","left"],"sources":["D:/All/DuAnTotNghiep_ReactNative/GiaoDienApp/src/layout/user/screens/RegisterPhone.js"],"sourcesContent":["import { View, Text, StyleSheet, Pressable, TextInput, Image, ToastAndroid } from 'react-native'\r\nimport React, { useState, useEffect, useRef } from 'react'\r\nimport { FirebaseRecaptchaVerifierModal, FirebaseRecaptchaBanner } from 'expo-firebase-recaptcha';\r\nimport { firebaseConfig } from '../../../../config'\r\nimport firebase from 'firebase/compat/app'\r\nimport { getAuth } from 'firebase/auth';\r\n\r\nexport const RegisterPhone = (props) => {\r\n    const { navigation } = props;\r\n    const [sdt, setsdt] = useState('');\r\n    const [verificationId, setVerificationId] = useState(null);\r\n    const recaptchaVerifier = useRef(null);\r\n    const { initialMinute = 0, initialSeconds = 10000000000 } = navigation;\r\n    const [minutes, setMinutes] = useState(initialMinute);\r\n    const [seconds, setSeconds] = useState(initialSeconds);\r\n    useEffect(() => {\r\n        if (verificationId != null) {\r\n\r\n            navigation.navigate('CfPhone', {\r\n                verificationId, sdt\r\n            });\r\n        }\r\n        return () => {\r\n\r\n        };\r\n    }, [verificationId]);\r\n\r\n    const SendOTP = async (sdtt) => {\r\n        try {\r\n            const phoneProvider = new firebase.auth.PhoneAuthProvider();\r\n            phoneProvider.verifyPhoneNumber(sdtt, recaptchaVerifier.current)\r\n                .then(setVerificationId)\r\n            const user = getAuth().currentUser.uid;\r\n            console.log('UID - ' + user);\r\n            navigation.navigate('CfPhone', {\r\n                sdt, user, verificationId\r\n            });\r\n        } catch (error) {\r\n            alert(error);\r\n        }\r\n\r\n    }\r\n    // ...\r\n\r\n\r\n    return (\r\n        <View style={{ backgroundColor: 'white', width: '100%', height: '100%' }}>\r\n            <FirebaseRecaptchaVerifierModal\r\n                ref={recaptchaVerifier}\r\n                firebaseConfig={firebaseConfig}\r\n\r\n            />\r\n            <View style={styles.MOBILE}>\r\n                <Text style={styles.MOBILEText} >Số Điện Thoại</Text>\r\n                <Text style={styles.chitietsdt} >Vui lòng nhập số điện thoại hợp lệ của bạn. Chúng tôi sẽ gửi cho bạn một mã gồm 4 chữ số để xác minh tài khoản của bạn.</Text>\r\n            </View>\r\n\r\n            <View style={styles.khunghinh}>\r\n                <TextInput style={styles.khung} placeholder=\"334233235\" maxLength={10} value={sdt} onChangeText={setsdt}>\r\n\r\n                </TextInput>\r\n                <Image style={{ position: 'relative', right: 110 }} source={require('../../../image/vietnam.png')} />\r\n                <Text style={{ position: 'relative', right: 105 }}>(+84)</Text>\r\n\r\n            </View>\r\n            <View style={styles.mailnut}>\r\n                <Pressable style={styles.nut} onPress={() => SendOTP('+84' + sdt)}>\r\n                    <Text style={styles.nutText}>Tiếp tục</Text>\r\n                </Pressable>\r\n            </View>\r\n\r\n\r\n        </View>\r\n\r\n    )\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    mailnut: {\r\n        position: 'absolute',\r\n        width: '100%',\r\n        top: 390,\r\n        height: 56,\r\n\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        flexDirection: 'row',\r\n    },\r\n    nut: {\r\n        width: '80%',\r\n        height: 56,\r\n        backgroundColor: '#E94057',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        flexDirection: 'row',\r\n        marginTop: 20,\r\n        borderRadius: 15,\r\n    },\r\n    nutText: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        fontSize: 19,\r\n        fontWeight: '700',\r\n        fontStyle: 'normal',\r\n        color: 'white',\r\n    },\r\n\r\n    khunghinh: {\r\n        position: 'absolute',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        flexDirection: 'row',\r\n        width: '100%',\r\n        height: 58,\r\n\r\n        top: 250,\r\n\r\n    },\r\n    khung: {\r\n        paddingLeft: 100,\r\n        position: 'absolute',\r\n        width: '80%',\r\n        height: 58,\r\n        borderBottomColor: '#ABABAB',\r\n        borderLeftColor: '#ABABAB',\r\n        borderLeftWidth: 0.5,\r\n        borderBottomWidth: 0.5,\r\n        borderRightColor: '#ABABAB',\r\n        borderTopColor: '#ABABAB',\r\n        borderRightWidth: 0.5,\r\n        borderTopWidth: 0.5,\r\n        borderRadius: 8,\r\n    },\r\n\r\n    chitietsdt: {\r\n        fontSize: 14,\r\n        fontWeight: '400',\r\n        fontStyle: 'normal',\r\n    },\r\n    MOBILEText: {\r\n        fontSize: 34,\r\n        fontWeight: '700',\r\n    },\r\n    MOBILE: {\r\n        position: 'absolute',\r\n        width: 295,\r\n        height: 93,\r\n        left: 40,\r\n        top: 128,\r\n\r\n\r\n    }\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}