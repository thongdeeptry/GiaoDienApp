{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport React, { useState, useEffect } from \"react\";\nimport { initializeApp } from \"firebase/app\";\nimport firebase from \"firebase/compat\";\nimport { firebaseConfig } from \"../../../config\";\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { getDatabase, ref, onValue, set, push } from \"firebase/database\";\nimport * as Permission from \"expo-permissions\";\nimport * as Location from \"expo-location\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport * as Animatable from \"react-native-animatable\";\nimport { getStorage, ref as firebaseDatabaseRef, uploadBytes, uploadString } from \"firebase/storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var PostStatus = function PostStatus(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var noidung1 = route.params.noidung1;\n  console.log(\"\" + noidung1);\n  var app = initializeApp(firebaseConfig);\n  var data = [];\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setname = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      avt = _useState4[0],\n      setavt = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      tuoi = _useState6[0],\n      settuoi = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      diachi = _useState8[0],\n      setdiachi = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      ngaysinh = _useState10[0],\n      setngaysinh = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      gioitinh = _useState12[0],\n      setgioitinh = _useState12[1];\n\n  var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      sothich = _useState14[0],\n      setsothich = _useState14[1];\n\n  var _useState15 = useState(),\n      _useState16 = _slicedToArray(_useState15, 2),\n      location = _useState16[0],\n      setlocation = _useState16[1];\n\n  var _useState17 = useState(),\n      _useState18 = _slicedToArray(_useState17, 2),\n      noidung = _useState18[0],\n      setnoidung = _useState18[1];\n\n  var _useState19 = useState(null),\n      _useState20 = _slicedToArray(_useState19, 2),\n      image = _useState20[0],\n      setImage = _useState20[1];\n\n  var _useState21 = useState(\"\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      upload = _useState22[0],\n      setupload = _useState22[1];\n\n  var _useState23 = useState(),\n      _useState24 = _slicedToArray(_useState23, 2),\n      tinh = _useState24[0],\n      settinh = _useState24[1];\n\n  var id;\n  var cytyy;\n\n  if (!app.length) {\n    console.log(\"Kết nối thành công\");\n  }\n\n  var auth = getAuth(app);\n  var user = getAuth().currentUser.uid;\n  var db = getDatabase();\n  var storage = getStorage(app);\n  useEffect(function () {\n    var reference = ref(db, \"users/\" + user);\n    onValue(reference, function (childSnapshot) {\n      var namepr = childSnapshot.child(\"name\").val();\n      var avtpr = childSnapshot.child(\"avt\").val();\n      setname(namepr);\n      setavt(avtpr);\n    });\n    var reference1 = ref(db, \"post/\" + user);\n    onValue(reference1, function (childSnapshot1) {\n      id = childSnapshot1.size + 1;\n    });\n  });\n\n  var pickImage = function _callee() {\n    var result;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.All,\n              allowsEditing: true,\n              aspect: [4, 3],\n              quality: 1\n            }));\n\n          case 2:\n            result = _context.sent;\n            console.log(result);\n\n            if (!result.cancelled) {\n              setImage(result.uri);\n            }\n\n            uploadImageToBucket(image, makeid(60));\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  function makeid(length) {\n    var text = \"\";\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\n\n    for (var i = 0; i < length; i++) {\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n\n    return text;\n  }\n\n  var uploadImageToBucket = function _callee2(uri, imageName) {\n    var res, blob, storageRef;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(fetch(uri));\n\n          case 2:\n            res = _context2.sent;\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(res.blob());\n\n          case 5:\n            blob = _context2.sent;\n            storageRef = firebaseDatabaseRef(storage, \"images/album/\" + user + \"/\" + imageName + \".png\");\n            setupload(\"https://firebasestorage.googleapis.com/v0/b/duantotnghiepreact.appspot.com/o/images%2Falbum%2F\" + user + \"%2F\" + imageName + \".png?alt=media&token=da2a42e8-f539-4c59-ab86-131c9ba06e37\");\n            console.log(\"Link Anh: \" + upload);\n            return _context2.abrupt(\"return\", uploadBytes(storageRef, blob).then(function (snapshot) {\n              console.log(\"Uploaded a blob or file!\");\n            }));\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var getLocation = function _callee3() {\n    var _await$Location$reque, status, vitri, diachi, city, country, duong;\n\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(Location.requestForegroundPermissionsAsync());\n\n          case 2:\n            _await$Location$reque = _context3.sent;\n            status = _await$Location$reque.status;\n\n            if (status !== \"granted\") {\n              setlocation(\"Không có quyền truy cập vị trí\");\n            }\n\n            _context3.next = 7;\n            return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n          case 7:\n            vitri = _context3.sent;\n            _context3.next = 10;\n            return _regeneratorRuntime.awrap(Location.reverseGeocodeAsync({\n              latitude: vitri.coords.latitude,\n              longitude: vitri.coords.longitude\n            }));\n\n          case 10:\n            diachi = _context3.sent;\n            console.log(\"Vị Trí : \" + vitri.coords.latitude + \":\" + vitri.coords.longitude);\n            diachi.find(function (p) {\n              country = p.country;\n              city = p.streetNumber + \" \" + p.street + \", \" + p.subregion + \", \" + p.region + \", \" + p.country;\n              settinh(p.region);\n              setlocation(city);\n            });\n            console.log(\"Vị Trí s: \" + location);\n\n          case 14:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var AddPost = function AddPost() {\n    var d = new Date();\n    var ngay = d.getDay();\n    var thang = d.getMonth() + 1;\n    var nam = d.getFullYear();\n\n    if (noidung == \"\" && location == \"\" || noidung == null && location == null) {\n      ToastAndroid.show(\"Chưa có nội dung\", ToastAndroid.BOTTOM);\n    } else {\n      var reference13 = ref(db, \"post/\" + user + \"/\" + id);\n      set(reference13, {\n        name: name,\n        avt: avt,\n        id: id,\n        noidung: noidung,\n        checkin: location,\n        image: upload,\n        thoigian: ngay + \" Tháng \" + thang + \" Năm \" + nam\n      });\n      ToastAndroid.show(\"Đã đăng bài viết\", ToastAndroid.BOTTOM);\n      navigation.navigate(\"Profile\");\n    }\n  };\n\n  var ChonAnh = function ChonAnh() {};\n\n  return _jsxs(View, {\n    style: styles.tong,\n    children: [_jsx(View, {\n      style: styles.e,\n      children: _jsxs(View, {\n        style: {\n          width: \"100%\",\n          height: 70,\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          borderBottomColor: \"#ABABAB\",\n          borderBottomWidth: 0.6\n        },\n        children: [_jsxs(View, {\n          style: {\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            left: 20\n          },\n          children: [_jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return navigation.goBack();\n            },\n            style: {\n              flexDirection: \"row\",\n              alignItems: \"center\"\n            },\n            children: _jsx(Image, {\n              source: require(\"../../image/lui.png\")\n            })\n          }), _jsx(Text, {\n            style: {\n              fontSize: 23,\n              left: 10,\n              opacity: 0.7\n            },\n            children: \"T\\u1EA1o b\\xE0i vi\\u1EBFt\"\n          })]\n        }), _jsx(View, {\n          style: {\n            width: 75,\n            height: 45,\n            opacity: 0.4\n          },\n          children: _jsx(TouchableOpacity, {\n            onPress: AddPost,\n            style: {\n              width: \"100%\",\n              height: \"100%\",\n              right: 20,\n              backgroundColor: \"#DCDCDC\",\n              borderRadius: 8,\n              alignItems: \"center\",\n              justifyContent: \"center\"\n            },\n            children: _jsx(Text, {\n              style: {\n                fontSize: 16\n              },\n              children: \"\\u0110\\u0102NG\"\n            })\n          })\n        })]\n      })\n    }), _jsxs(View, {\n      style: styles.infomain,\n      children: [_jsxs(View, {\n        style: styles.info,\n        children: [_jsx(Image, {\n          style: {\n            width: 60,\n            height: 60,\n            borderRadius: 35\n          },\n          source: {\n            uri: avt\n          }\n        }), _jsx(View, {\n          style: styles.tenmain,\n          children: _jsx(View, {\n            style: {\n              flexDirection: \"row\",\n              width: \"90%\",\n              paddingRight: 5\n            },\n            children: _jsxs(Text, {\n              style: {\n                fontSize: 16,\n                fontWeight: \"500\"\n              },\n              children: [name, \" \", noidung1 != \"\" & noidung1 != null && noidung1 != \"undefined\" ? \"- \" + noidung1 : null, _jsx(Text, {\n                style: {\n                  fontSize: 16\n                },\n                children: tinh != \"\" && tinh != null ? \" tại \" : null\n              }), _jsxs(Text, {\n                style: {\n                  fontSize: 16,\n                  fontWeight: \"500\"\n                },\n                children: [tinh != \"\" ? tinh : null, \" \"]\n              })]\n            })\n          })\n        })]\n      }), _jsxs(View, {\n        style: styles.mainnhap,\n        children: [_jsx(View, {\n          style: {\n            width: \"90%\",\n            height: 100,\n            borderBottomColor: \"#ABABAB\",\n            borderBottomWidth: 0.5,\n            borderRightColor: \"#ABABAB\",\n            borderRightWidth: 0.5,\n            borderLeftColor: \"#ABABAB\",\n            borderLeftWidth: 0.5,\n            borderTopColor: \"#ABABAB\",\n            borderTopWidth: 0.5,\n            left: \"5%\",\n            borderRadius: 10\n          },\n          children: _jsx(TextInput, {\n            value: noidung,\n            onChangeText: setnoidung,\n            style: {\n              left: 20,\n              width: \"90%\",\n              top: 5\n            },\n            multiline: true,\n            placeholder: \"B\\u1EA1n \\u0111ang ngh\\u0129 g\\xEC?\"\n          })\n        }), image == null ? _jsx(Image, {\n          style: {\n            width: 0,\n            height: 0\n          },\n          resizeMethod: \"auto\"\n        }) : image && _jsx(Image, {\n          style: styles.image,\n          resizeMethod: \"auto\",\n          source: {\n            uri: image\n          }\n        }), _jsx(View, {\n          style: {\n            width: \"90%\",\n            height: 35,\n            right: 0,\n            left: \"5%\",\n            top: 20\n          },\n          children: _jsxs(TouchableOpacity, {\n            onPress: pickImage,\n            style: {\n              flexDirection: \"row\",\n              alignItems: \"center\",\n              left: 5\n            },\n            children: [_jsx(Image, {\n              style: {\n                width: 30,\n                height: 30,\n                right: 10\n              },\n              source: require(\"../../image/image.png\")\n            }), _jsx(Text, {\n              style: {\n                fontSize: 16,\n                width: 100\n              },\n              children: \"\\u1EA2nh/video\"\n            })]\n          })\n        }), _jsx(View, {\n          style: {\n            width: \"90%\",\n            height: 35,\n            right: 0,\n            justifyContent: \"center\",\n            left: \"5%\",\n            top: 20\n          },\n          children: _jsxs(TouchableOpacity, {\n            style: {\n              flexDirection: \"row\",\n              alignItems: \"center\",\n              left: 5\n            },\n            children: [_jsx(Image, {\n              style: {\n                width: 30,\n                height: 30,\n                right: 10\n              },\n              source: require(\"../../image/friend.png\")\n            }), _jsx(Text, {\n              style: {\n                fontSize: 16,\n                width: 200\n              },\n              children: \"G\\u1EAFn th\\u1EBB b\\u1EA1n b\\xE8\"\n            })]\n          })\n        }), _jsx(View, {\n          style: {\n            width: \"90%\",\n            height: 35,\n            right: 0,\n            justifyContent: \"center\",\n            left: \"5%\",\n            top: 20\n          },\n          children: _jsxs(TouchableOpacity, {\n            onPress: function onPress() {\n              return navigation.navigate(\"Camxuc\");\n            },\n            style: {\n              flexDirection: \"row\",\n              alignItems: \"center\",\n              left: 5\n            },\n            children: [_jsx(Image, {\n              style: {\n                width: 30,\n                height: 30,\n                right: 10\n              },\n              source: require(\"../../image/camx\\xFAc.png\")\n            }), _jsx(Text, {\n              style: {\n                fontSize: 16,\n                width: 200\n              },\n              children: \"C\\u1EA3m x\\xFAc/ho\\u1EA1t \\u0111\\u1ED9ng\"\n            })]\n          })\n        }), _jsx(View, {\n          style: {\n            width: \"90%\",\n            height: 35,\n            right: 0,\n            justifyContent: \"center\",\n            left: \"5%\",\n            top: 20\n          },\n          children: _jsxs(TouchableOpacity, {\n            style: {\n              flexDirection: \"row\",\n              alignItems: \"center\",\n              left: 5\n            },\n            children: [_jsx(Image, {\n              style: {\n                width: 30,\n                height: 30,\n                right: 10\n              },\n              source: require(\"../../image/live.png\")\n            }), _jsx(Text, {\n              style: {\n                fontSize: 16,\n                width: 100\n              },\n              children: \"Ph\\xE1t tr\\u1EF1c ti\\u1EBFp\"\n            })]\n          })\n        }), _jsx(View, {\n          style: {\n            width: \"90%\",\n            height: 35,\n            right: 0,\n            justifyContent: \"center\",\n            left: \"5%\",\n            top: 20\n          },\n          children: _jsxs(TouchableOpacity, {\n            onPress: getLocation,\n            style: {\n              flexDirection: \"row\",\n              alignItems: \"center\",\n              left: 5\n            },\n            children: [_jsx(Image, {\n              style: {\n                width: 30,\n                height: 30,\n                right: 10\n              },\n              source: require(\"../../image/map.png\")\n            }), _jsx(Text, {\n              style: {\n                fontSize: 16,\n                width: 100\n              },\n              children: \"V\\u1ECB tr\\xED hi\\u1EC7n t\\u1EA1i\"\n            })]\n          })\n        }), _jsx(TouchableOpacity, {\n          onPress: AddPost,\n          style: {\n            width: \"90%\",\n            height: 50,\n            top: 40,\n            alignItems: \"center\",\n            left: \"5%\",\n            backgroundColor: \"#E94057\",\n            justifyContent: \"center\",\n            borderRadius: 15\n          },\n          children: _jsx(Text, {\n            style: {\n              fontSize: 18,\n              color: \"white\"\n            },\n            children: \"\\u0110\\u0102NG\"\n          })\n        })]\n      })]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  image: {\n    left: 20,\n    width: 100,\n    height: 100,\n    borderRadius: 25\n  },\n  mainnhap: {\n    flexDirection: \"column\",\n    width: \"100%\",\n    top: 20,\n    height: \"100%\"\n  },\n  infomain: {\n    top: 110,\n    width: \"100%\",\n    height: \"100%\"\n  },\n  tenmain: {\n    width: \"100%\",\n    height: 60,\n    left: 10\n  },\n  info: {\n    width: \"90%\",\n    height: 60,\n    left: 20,\n    paddingRight: 20,\n    flexDirection: \"row\"\n  },\n  r: {\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\",\n    fontSize: 20\n  },\n  e: {\n    position: \"absolute\",\n    width: \"100%\",\n    height: 40,\n    top: 40,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  w: {\n    position: \"absolute\",\n    width: \"100%\",\n    height: 100,\n    left: 20,\n    top: 90,\n    fontSize: 20,\n    opacity: 0.3\n  },\n  q: {\n    position: \"absolute\",\n    width: \"100%\",\n    height: 100\n  },\n  tong: {\n    width: \"100%\",\n    height: \"100%\",\n    backgroundColor: \"white\"\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","initializeApp","firebase","firebaseConfig","getAuth","createUserWithEmailAndPassword","getDatabase","ref","onValue","set","push","Permission","Location","ImagePicker","Animatable","getStorage","firebaseDatabaseRef","uploadBytes","uploadString","PostStatus","route","navigation","noidung1","params","console","log","app","data","name","setname","avt","setavt","tuoi","settuoi","diachi","setdiachi","ngaysinh","setngaysinh","gioitinh","setgioitinh","sothich","setsothich","location","setlocation","noidung","setnoidung","image","setImage","upload","setupload","tinh","settinh","id","cytyy","length","auth","user","currentUser","uid","db","storage","reference","childSnapshot","namepr","child","val","avtpr","reference1","childSnapshot1","size","pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","result","cancelled","uri","uploadImageToBucket","makeid","text","possible","i","charAt","Math","floor","random","imageName","fetch","res","blob","storageRef","then","snapshot","getLocation","requestForegroundPermissionsAsync","status","getCurrentPositionAsync","vitri","reverseGeocodeAsync","latitude","coords","longitude","find","p","country","city","streetNumber","street","subregion","region","AddPost","d","Date","ngay","getDay","thang","getMonth","nam","getFullYear","ToastAndroid","show","BOTTOM","reference13","checkin","thoigian","navigate","ChonAnh","styles","tong","e","width","height","flexDirection","justifyContent","alignItems","borderBottomColor","borderBottomWidth","left","goBack","require","fontSize","opacity","right","backgroundColor","borderRadius","infomain","info","tenmain","paddingRight","fontWeight","mainnhap","borderRightColor","borderRightWidth","borderLeftColor","borderLeftWidth","borderTopColor","borderTopWidth","top","color","StyleSheet","create","r","position","w","q"],"sources":["D:/All/DuAnTotNghiep_ReactNative/GiaoDienApp/src/layout/product/PostStatus.js"],"sourcesContent":["import {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  Image,\r\n  TouchableOpacity,\r\n  ScrollView,\r\n  FlatList,\r\n  Pressable,\r\n  TextInput,\r\n  ToastAndroid,\r\n  Animated,\r\n  Easing,\r\n} from \"react-native\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport firebase from \"firebase/compat\";\r\nimport { firebaseConfig } from \"../../../config\";\r\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\r\nimport { getDatabase, ref, onValue, set, push } from \"firebase/database\";\r\nimport * as Permission from \"expo-permissions\";\r\nimport * as Location from \"expo-location\";\r\nimport * as ImagePicker from \"expo-image-picker\";\r\nimport * as Animatable from \"react-native-animatable\";\r\nimport {\r\n  getStorage,\r\n  ref as firebaseDatabaseRef,\r\n  uploadBytes,\r\n  uploadString,\r\n} from \"firebase/storage\";\r\nexport const PostStatus = ({ route, navigation }) => {\r\n  const { noidung1 } = route.params;\r\n  console.log(\"\" + noidung1);\r\n  const app = initializeApp(firebaseConfig);\r\n  const data = [];\r\n  const [name, setname] = useState();\r\n  const [avt, setavt] = useState();\r\n  const [tuoi, settuoi] = useState();\r\n  const [diachi, setdiachi] = useState();\r\n  const [ngaysinh, setngaysinh] = useState();\r\n  const [gioitinh, setgioitinh] = useState();\r\n  const [sothich, setsothich] = useState();\r\n  const [location, setlocation] = useState();\r\n  const [noidung, setnoidung] = useState();\r\n  const [image, setImage] = useState(null);\r\n  const [upload, setupload] = useState(\"\");\r\n  const [tinh, settinh] = useState();\r\n  let id;\r\n  let cytyy;\r\n  if (!app.length) {\r\n    console.log(\"Kết nối thành công\");\r\n  }\r\n  const auth = getAuth(app);\r\n  const user = getAuth().currentUser.uid;\r\n  const db = getDatabase();\r\n  const storage = getStorage(app);\r\n  useEffect(() => {\r\n    const reference = ref(db, \"users/\" + user);\r\n    onValue(reference, (childSnapshot) => {\r\n      const namepr = childSnapshot.child(\"name\").val();\r\n      const avtpr = childSnapshot.child(\"avt\").val();\r\n\r\n      setname(namepr);\r\n      setavt(avtpr);\r\n    });\r\n    const reference1 = ref(db, \"post/\" + user);\r\n    onValue(reference1, (childSnapshot1) => {\r\n      id = childSnapshot1.size + 1;\r\n    });\r\n  });\r\n  const pickImage = async () => {\r\n    // No permissions request is necessary for launching the image library\r\n    let result = await ImagePicker.launchImageLibraryAsync({\r\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n      allowsEditing: true,\r\n      aspect: [4, 3],\r\n      quality: 1,\r\n    });\r\n\r\n    console.log(result);\r\n\r\n    if (!result.cancelled) {\r\n      setImage(result.uri);\r\n    }\r\n    uploadImageToBucket(image, makeid(60));\r\n  };\r\n  function makeid(length) {\r\n    var text = \"\";\r\n    var possible =\r\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\r\n\r\n    for (var i = 0; i < length; i++)\r\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n\r\n    return text;\r\n  }\r\n  const uploadImageToBucket = async (uri, imageName) => {\r\n    const res = await fetch(uri);\r\n    const blob = await res.blob();\r\n    const storageRef = firebaseDatabaseRef(\r\n      storage,\r\n      \"images/album/\" + user + \"/\" + imageName + \".png\"\r\n    );\r\n    setupload(\r\n      \"https://firebasestorage.googleapis.com/v0/b/duantotnghiepreact.appspot.com/o/images%2Falbum%2F\" +\r\n        user +\r\n        \"%2F\" +\r\n        imageName +\r\n        \".png?alt=media&token=da2a42e8-f539-4c59-ab86-131c9ba06e37\"\r\n    );\r\n\r\n    console.log(\"Link Anh: \" + upload);\r\n    return uploadBytes(storageRef, blob).then((snapshot) => {\r\n      console.log(\"Uploaded a blob or file!\");\r\n    });\r\n  };\r\n  const getLocation = async () => {\r\n    const { status } = await Location.requestForegroundPermissionsAsync();\r\n    if (status !== \"granted\") {\r\n      setlocation(\"Không có quyền truy cập vị trí\");\r\n    }\r\n    const vitri = await Location.getCurrentPositionAsync({});\r\n    const diachi = await Location.reverseGeocodeAsync({\r\n      latitude: vitri.coords.latitude,\r\n      longitude: vitri.coords.longitude,\r\n    });\r\n    console.log(\r\n      \"Vị Trí : \" + vitri.coords.latitude + \":\" + vitri.coords.longitude\r\n    );\r\n    let city;\r\n    let country;\r\n    let duong;\r\n    diachi.find((p) => {\r\n      country = p.country;\r\n      city =\r\n        p.streetNumber +\r\n        \" \" +\r\n        p.street +\r\n        \", \" +\r\n        p.subregion +\r\n        \", \" +\r\n        p.region +\r\n        \", \" +\r\n        p.country;\r\n      settinh(p.region);\r\n      setlocation(city);\r\n    });\r\n    console.log(\"Vị Trí s: \" + location);\r\n  };\r\n\r\n  const AddPost = () => {\r\n    const d = new Date();\r\n\r\n    const ngay = d.getDay();\r\n    const thang = d.getMonth() + 1;\r\n    const nam = d.getFullYear();\r\n    if (\r\n      (noidung == \"\" && location == \"\") ||\r\n      (noidung == null && location == null)\r\n    ) {\r\n      ToastAndroid.show(\"Chưa có nội dung\", ToastAndroid.BOTTOM);\r\n    } else {\r\n      const reference13 = ref(db, \"post/\" + user + \"/\" + id);\r\n      set(reference13, {\r\n        name: name,\r\n        avt: avt,\r\n        id: id,\r\n        noidung: noidung,\r\n        checkin: location,\r\n        image: upload,\r\n        thoigian: ngay + \" Tháng \" + thang + \" Năm \" + nam,\r\n      });\r\n      ToastAndroid.show(\"Đã đăng bài viết\", ToastAndroid.BOTTOM);\r\n      navigation.navigate(\"Profile\");\r\n    }\r\n  };\r\n\r\n  const ChonAnh = () => {};\r\n  return (\r\n    <View style={styles.tong}>\r\n      <View style={styles.e}>\r\n        <View\r\n          style={{\r\n            width: \"100%\",\r\n            height: 70,\r\n            flexDirection: \"row\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"center\",\r\n            borderBottomColor: \"#ABABAB\",\r\n            borderBottomWidth: 0.6,\r\n          }}\r\n        >\r\n          <View\r\n            style={{ flexDirection: \"row\", alignItems: \"center\", left: 20 }}\r\n          >\r\n            <TouchableOpacity\r\n              onPress={() => navigation.goBack()}\r\n              style={{ flexDirection: \"row\", alignItems: \"center\" }}\r\n            >\r\n              <Image source={require(\"../../image/lui.png\")} />\r\n            </TouchableOpacity>\r\n            <Text style={{ fontSize: 23, left: 10, opacity: 0.7 }}>\r\n              Tạo bài viết\r\n            </Text>\r\n          </View>\r\n          <View style={{ width: 75, height: 45, opacity: 0.4 }}>\r\n            <TouchableOpacity\r\n              onPress={AddPost}\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                right: 20,\r\n                backgroundColor: \"#DCDCDC\",\r\n                borderRadius: 8,\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n              }}\r\n            >\r\n              <Text style={{ fontSize: 16 }}>ĐĂNG</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n      <View style={styles.infomain}>\r\n        <View style={styles.info}>\r\n          <Image\r\n            style={{ width: 60, height: 60, borderRadius: 35 }}\r\n            source={{ uri: avt }}\r\n          />\r\n          <View style={styles.tenmain}>\r\n            <View\r\n              style={{ flexDirection: \"row\", width: \"90%\", paddingRight: 5 }}\r\n            >\r\n              <Text style={{ fontSize: 16, fontWeight: \"500\" }}>\r\n                {name}{\" \"}\r\n                {(noidung1 != \"\") & (noidung1 != null) &&\r\n                noidung1 != \"undefined\"\r\n                  ? \"- \" + noidung1\r\n                  : null}\r\n                <Text style={{ fontSize: 16 }}>\r\n                  {tinh != \"\" && tinh != null ? \" tại \" : null}\r\n                </Text>\r\n                <Text style={{ fontSize: 16, fontWeight: \"500\" }}>\r\n                  {tinh != \"\" ? tinh : null}{\" \"}\r\n                </Text>\r\n              </Text>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.mainnhap}>\r\n          <View\r\n            style={{\r\n              width: \"90%\",\r\n              height: 100,\r\n              borderBottomColor: \"#ABABAB\",\r\n              borderBottomWidth: 0.5,\r\n              borderRightColor: \"#ABABAB\",\r\n              borderRightWidth: 0.5,\r\n              borderLeftColor: \"#ABABAB\",\r\n              borderLeftWidth: 0.5,\r\n              borderTopColor: \"#ABABAB\",\r\n              borderTopWidth: 0.5,\r\n              left: \"5%\",\r\n              borderRadius: 10,\r\n            }}\r\n          >\r\n            <TextInput\r\n              value={noidung}\r\n              onChangeText={setnoidung}\r\n              style={{ left: 20, width: \"90%\", top: 5 }}\r\n              multiline={true}\r\n              placeholder=\"Bạn đang nghĩ gì?\"\r\n            ></TextInput>\r\n          </View>\r\n          {image == null ? (\r\n            <Image style={{ width: 0, height: 0 }} resizeMethod=\"auto\" />\r\n          ) : (\r\n            image && (\r\n              <Image\r\n                style={styles.image}\r\n                resizeMethod=\"auto\"\r\n                source={{ uri: image }}\r\n              />\r\n            )\r\n          )}\r\n          <View\r\n            style={{\r\n              width: \"90%\",\r\n              height: 35,\r\n\r\n              right: 0,\r\n              left: \"5%\",\r\n              top: 20,\r\n            }}\r\n          >\r\n            <TouchableOpacity\r\n              onPress={pickImage}\r\n              style={{ flexDirection: \"row\", alignItems: \"center\", left: 5 }}\r\n            >\r\n              <Image\r\n                style={{ width: 30, height: 30, right: 10 }}\r\n                source={require(\"../../image/image.png\")}\r\n              />\r\n              <Text style={{ fontSize: 16, width: 100 }}>Ảnh/video</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View\r\n            style={{\r\n              width: \"90%\",\r\n              height: 35,\r\n\r\n              right: 0,\r\n              justifyContent: \"center\",\r\n              left: \"5%\",\r\n              top: 20,\r\n            }}\r\n          >\r\n            <TouchableOpacity\r\n              style={{ flexDirection: \"row\", alignItems: \"center\", left: 5 }}\r\n            >\r\n              <Image\r\n                style={{ width: 30, height: 30, right: 10 }}\r\n                source={require(\"../../image/friend.png\")}\r\n              />\r\n              <Text style={{ fontSize: 16, width: 200 }}>Gắn thẻ bạn bè</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View\r\n            style={{\r\n              width: \"90%\",\r\n              height: 35,\r\n\r\n              right: 0,\r\n              justifyContent: \"center\",\r\n              left: \"5%\",\r\n              top: 20,\r\n            }}\r\n          >\r\n            <TouchableOpacity\r\n              onPress={() => navigation.navigate(\"Camxuc\")}\r\n              style={{ flexDirection: \"row\", alignItems: \"center\", left: 5 }}\r\n            >\r\n              <Image\r\n                style={{ width: 30, height: 30, right: 10 }}\r\n                source={require(\"../../image/camxúc.png\")}\r\n              />\r\n              <Text style={{ fontSize: 16, width: 200 }}>\r\n                Cảm xúc/hoạt động\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View\r\n            style={{\r\n              width: \"90%\",\r\n              height: 35,\r\n\r\n              right: 0,\r\n              justifyContent: \"center\",\r\n              left: \"5%\",\r\n              top: 20,\r\n            }}\r\n          >\r\n            <TouchableOpacity\r\n              style={{ flexDirection: \"row\", alignItems: \"center\", left: 5 }}\r\n            >\r\n              <Image\r\n                style={{ width: 30, height: 30, right: 10 }}\r\n                source={require(\"../../image/live.png\")}\r\n              />\r\n              <Text style={{ fontSize: 16, width: 100 }}>Phát trực tiếp</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View\r\n            style={{\r\n              width: \"90%\",\r\n              height: 35,\r\n\r\n              right: 0,\r\n              justifyContent: \"center\",\r\n              left: \"5%\",\r\n              top: 20,\r\n            }}\r\n          >\r\n            <TouchableOpacity\r\n              onPress={getLocation}\r\n              style={{ flexDirection: \"row\", alignItems: \"center\", left: 5 }}\r\n            >\r\n              <Image\r\n                style={{ width: 30, height: 30, right: 10 }}\r\n                source={require(\"../../image/map.png\")}\r\n              />\r\n              <Text style={{ fontSize: 16, width: 100 }}>Vị trí hiện tại</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity\r\n            onPress={AddPost}\r\n            style={{\r\n              width: \"90%\",\r\n              height: 50,\r\n              top: 40,\r\n              alignItems: \"center\",\r\n              left: \"5%\",\r\n              backgroundColor: \"#E94057\",\r\n              justifyContent: \"center\",\r\n              borderRadius: 15,\r\n            }}\r\n          >\r\n            <Text style={{ fontSize: 18, color: \"white\" }}>ĐĂNG</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  image: {\r\n    left: 20,\r\n    width: 100,\r\n    height: 100,\r\n    borderRadius: 25,\r\n  },\r\n  mainnhap: {\r\n    flexDirection: \"column\",\r\n    width: \"100%\",\r\n    top: 20,\r\n    height: \"100%\",\r\n  },\r\n  infomain: {\r\n    top: 110,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n  tenmain: {\r\n    width: \"100%\",\r\n    height: 60,\r\n    left: 10,\r\n  },\r\n  info: {\r\n    width: \"90%\",\r\n    height: 60,\r\n    left: 20,\r\n    paddingRight: 20,\r\n    flexDirection: \"row\",\r\n  },\r\n  r: {\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    fontSize: 20,\r\n  },\r\n  e: {\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: 40,\r\n\r\n    top: 40,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  w: {\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: 100,\r\n    left: 20,\r\n    top: 90,\r\n    fontSize: 20,\r\n    opacity: 0.3,\r\n  },\r\n  q: {\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: 100,\r\n  },\r\n  tong: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    backgroundColor: \"white\",\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}